*Unit Testing, TDD, Integration Testing, Acceptance Testing*

Oplossing [hier](https://github.com/janvandenpoelatAP/HeaterSystem) (momenteel geen link want pagina geeft 404)

# Opgave
## Behoeften
- Maak een thermostaat applicatie die gebaseerd op de huidige temperatuur en een temperatuur setpoint een verwarmingselement aan/af zet.
- Gebruik ook een offset zodat het verwarmingselement niet constant aan en af sprint als de temperatuur rond de setpoint schommelt
- Als het ophalen van de temperatuur te vaak faalt (vb. 3x na elkaar) willen we voorkomen dat de heater constant aan blijft staan, dus zetten we hem naar de safe mode waar de heater uitgezet wordt.

# Stappen
## Ontwerp
Denk na over het ontwerp - Welke klassen zijn er nodig?

## Implementatie
Implenteer de thermostaat aan de hand van TDD

## Welke testen
Denk na over welke test cases er nodig zijn voor de Thermostat klasse

## Integration Testing
Maak gebruik van `mockoon` om de server voor je integratietesten te simuleren

## Acceptance testing
Gebruik maken van `xunit` test project met `xunit.gherkin.quick` voor feature tests

# Stap 1: Ontwerp
**HIER MAAK JE NOG NIKS AAN!! JE BENT AAN HET VISUALISEREN**

Welke klassen?
Klasse diagramma in PlantUML (Visual Studio Code)
	Extensie: PlantUML
	Preview: ALT D

Nodig
- `Thermostaat` klasse met properties `Setpoint`, `Offset` en methode `Work`
- `TemperatureSensor` klasse met methode `GetTemperature`
- `HeatingElement` klasse met methode `Enable, Disable`
- `Thermostaat` klasse "gebruikt" (wordt geïnstantiëerd) `TemperatureSensor` en `HeatingElement` klasse -> **AFHANKELIJKHEID**
![[Pasted image 20240803212051.png]]

Probleem afhankelijkheid
	Dependency t.o.v interfaces i.p.v concrete klassen
	IOC (Inversion of control) -> Depedency Injection (via constructor)

![[Pasted image 20240804133711.png]]

# Stap 2: Implementatie - bepalen testen
Testen bepalen volgesn ZOM**B**IES principe
![[Pasted image 20240804133753.png]]
	B van boundaries testen 3 en 5
1. Test 1: temperatuur tussen Setpoint +/- Offset: Doe niets
2. Test 2: temperatuur lager dan Setpoint - Offset: Schakel de heater aan
3. Test 3: temperatuur gelijk aan Setpoint - Offset: Doe niets
4. Test 4: temperatuur hoger dan Setpoint + Offset: Schakel de heater uit
5. Test 5: temperatuur gelijk aan Setpoint + Offset : Doe niets
Voorlopig nemen we de foutbehandeling niet mee

## Implementatie
### Stap 1. Maak project aan
1. Open Visual Studio en maak een console project `HeaterSystem`
	HS | Commit 1 | Start Project

### Stap 2. Voeg UnitTests toe
2. Voeg aan de solution een testproject `HeaterSystem.UnitTests` toe (`MS test project`). Vergeet niet je referentie naar het console project te leggen. Build een eerste keer.
	HS | Commit 2 | Add UnitTests.project

### Step 3. Denk na over structuur
3. Denk na over de structuur van je applicatie

### Stap 4. Test 0. Build met werkende klassen en interaces
4. Test 0: Build slaagt met werkende klassen en interfaces (zie klassediagram). Klasse `Thermostat` wordt geïnstantieerd vanui methode `main (program.cs)`. De loop wordt ook toegevoegd (kan later
		`Thermostat, IHeatingElement, HeatingElement, ITemperatureSensor, TemperatureSensor, main`
		Zet de visibiliteit van interfaces en klassen op `public` i.p.v `internal`

#### HeatingElement.cs
```cs
namespace HeaterSystem;
public class HeatingElement : IHeatingElement 
{
	public void Disable() 
	{
		throw new NotImplementedException();
	}

	public void Enable()
	{
		throw new NotImplementedException();
	}
}
```

#### IHeatingElement.cs
```cs
namespace HeaterSystem;

public interface IHeatingElement
{
	public void Enable();
	public void Disable();
}
```
#### ITemperatureSensor.cs
```cs
namespace HeaterSystem
public interface ITemperatureSensor
{
	double GetTemperature()
}
```