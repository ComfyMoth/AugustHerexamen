# 2. Gherkin
	Gherkin is a domain-specific language for describing formalized examples of how a system should interact with the user. In Behavior Driven Development, examples are discovered in collaboration with all parties involved in the software development process (developer, tester, subject matter expert, .) before they are formalized in Gherkin

Gherkin gebruikt de "Given-When-Then" structuur om voorbeelden vast te leggen. Hierin heb je dus 3 delen:

**Given**
Beschrijft enkel die delen van de systeem staat die relevant is voor de regels die in het scenario worden beschreven. Je beschrijft daarin de staat waarin het systeem zich moet bevinden om aan de test te beginnen

**When**
Beschrijft een actie van de gebruiker die het gedrag van het systeem trigger (onder de beschreven systeem staat). Beschrijft meestal een ingave door de gebruiker of een call naar een service

**Then**
Beschrijft hoe het systeem moet reageren op de trigger in termen van het resultaat naar de gebruiker toe. We geven een paar voorbeelden om bovenstaande te verduidelijken:
```
Feature: Guess the word
# The first example has two steps
Scenario: Maker starts a game
When the Maker starts a game
Then the Maker waits for a Breaker to join
# The second example has three steps
Scenario: Breaker joins a game
Given the Maker has started a game 
    with the word "silky"
When the Breaker joins the Maker's game
Then the Breaker must guess a word with 5 characters
```

```
Feature: Serve coffee
In order to earn money Customers should be able 
to buy coffee at all times 

Scenario: Buy last coffee
Given there are 1 coffees left in the machine
And I have deposited 1 dollar 
When I press the coffee button 
Then I should be served a coffee
```

Het is niet de bedoeling om de kunst van het schrijven van goede specificaties aan te leren. Wat betreft de cursus SoftwareTesting is het voldoende dat je Gherkin kan herkennen en dat je de link met automatisch testen van specificaties begrijpt

Er bestaan ook Gherkin editors zodat voor het schrijven van de specificaties geen IDE zoals Visual Studio nodig is. Je vindt een voorbeeld hiervan [hier](https://specflow.org/gherkin-editor/).

# 3. Automatisch testen - Specflow
Zoals in de inleiding reeds beschreven is het belangrijk om het testen van de specificaties te automatiseren. Daarvoor gebruik we Specflow. Op de website van Specflow staat er een stap-bij-sap start gids die we zullen volgen.

## Stap 01. Installeren van de Specflow Visual Studio Extension
### Stap 01.01
Open Visual Studio en navigeer naar: Extensions > Manage Extensions > Online
Zoek naar Specflow
![](https://apwt.gitbook.io/~gitbook/image?url=https%3A%2F%2F4058530821-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MGtJKh7Wy8QD_tjgVdu%252Fuploads%252FYUh68CGTXjgbkjXi2hC9%252Fimage.png%3Falt%3Dmedia%26token%3D52c16688-4494-4c6a-940b-fe220ddfc483&width=768&dpr=4&quality=100&sign=4785f98e&sv=1)

### Stap 01.02
Start de installatie door op download te drukken. Herstart daarna Visual Studio. VSIX installer verschijnt 
Druk op Modify
![](https://apwt.gitbook.io/~gitbook/image?url=https%3A%2F%2F4058530821-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MGtJKh7Wy8QD_tjgVdu%252Fuploads%252FAau0h6N9p8dRhxWv2jB9%252Fimage.png%3Falt%3Dmedia%26token%3Daab2019e-bf0f-4576-9a1e-47b90d80f764&width=768&dpr=4&quality=100&sign=6009fd2b&sv=1)

### Stap 01.03
Druk op Close. Wanneer je VS weer opstart zal je onder geïnstalleerde extensions ook Specflow terugvinden
![](https://apwt.gitbook.io/~gitbook/image?url=https%3A%2F%2F4058530821-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MGtJKh7Wy8QD_tjgVdu%252Fuploads%252FvQTtl2ROojy4KL0H59sY%252Fimage.png%3Falt%3Dmedia%26token%3D57aa56be-369d-47cc-88f6-be3be8d2a9fe&width=768&dpr=4&quality=100&sign=67e0f75f&sv=1)

## Stap 02: Creatie van het calculator project (te testen)
### Stap 02.01
Open VS, Creëer een nieuw Class library project en noem het `SpecFlowCalculator`

### Stap 02.02
Hernoem file `Class1.cs` naar `Calculator.cs` en voeg onderstaande code toe:
```cs
    public class Calculator
    {
        public int FirstNumber { get; set; }
        public int SecondNumber { get; set; }
        
        public int Add()
        {
            throw new NotImplementedException();
        }
    }
```

### Stap 02.03
Build je solution
![](https://apwt.gitbook.io/~gitbook/image?url=https%3A%2F%2F4058530821-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fassets%252F-MGtJKh7Wy8QD_tjgVdu%252F-MOWmjWiYQbYOZllqVUp%252F-MOWmukHNwnnTbW3Bgzi%252Fimage.png%3Falt%3Dmedia%26token%3Df5d8849d-7a3a-4f39-8f47-062fb2bce6cf&width=768&dpr=4&quality=100&sign=2793b64f&sv=1)

## Stap 03: Creatie van het Specflow project
### Stap 03.01
Voeg een nieuw project toe aan je solution. Kies de SpecFlow Project Template
![](https://apwt.gitbook.io/~gitbook/image?url=https%3A%2F%2F4058530821-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MGtJKh7Wy8QD_tjgVdu%252Fuploads%252FzyMYTyZlVONKndWvG60J%252Fimage.png%3Falt%3Dmedia%26token%3De1ede680-0d68-4f98-8a72-0949f5698a84&width=768&dpr=4&quality=100&sign=f184df5&sv=1)

### Stap 03.02
